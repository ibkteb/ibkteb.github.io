const o=new Worker(new URL(""+new URL("pyodide.worker-azHzVa2L.js",import.meta.url).href,import.meta.url),{type:"module"}),g=new URL("python/",document.baseURI).href;o.postMessage({type:"INIT_WORKER",baseUrl:g});function f(s,r={}){console.log(s);let c=typeof s=="string"?s:s.url;const p=r.method||"GET",n=r.body||void 0;return console.log(n),new Promise((i,m)=>{const a=Math.random().toString(36).substr(2,9),d=t=>{if(t.data.id===a)if(o.removeEventListener("message",d),t.data.error)m(new Error(t.data.error));else{let e=t.data.result;console.log(t.data);let l={status:200,statusText:"OK"};typeof e=="object"&&e!==null&&(e=JSON.stringify(e),l["Content-Type"]="application/json");const u=new Response(e,{status:200,statusText:"OK",headers:new Headers(l)});console.log(e),i(u)}};o.addEventListener("message",d),o.postMessage({id:a,method:p,url:c,body:n})})}export{f as fetch};
